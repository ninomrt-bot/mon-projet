"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/stock";
exports.ids = ["pages/api/stock"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstock&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cstock.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstock&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cstock.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_stock_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\stock.js */ \"(api-node)/./pages/api/stock.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_stock_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_stock_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_stock_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_stock_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/stock\",\n        pathname: \"/api/stock\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_stock_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGc3RvY2smcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3N0b2NrLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNFO0FBQzFEO0FBQ21EO0FBQ25EO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxnREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsZ0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IseUdBQW1CO0FBQ2xEO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcc3RvY2suanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3N0b2NrXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc3RvY2tcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstock&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cstock.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/auth/[...nextauth].js":
/*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   USERS: () => (/* binding */ USERS),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__);\n// pages/api/auth/[...nextauth].js\n\n\n// Liste des utilisateurs pour l’authentification et le fallback email\nconst USERS = [\n    {\n        id: \"1\",\n        username: \"nino.marquet\",\n        password: \"1\",\n        name: \"Nino Marquet\",\n        email: \"nino.marquet@stirweld.com\"\n    },\n    {\n        id: \"2\",\n        username: \"anthony.trouve\",\n        password: \"2\",\n        name: \"Anthony Trouvé\",\n        email: \"anthony.trouve@stirweld.com\"\n    },\n    {\n        id: \"3\",\n        username: \"dominique.dubourg\",\n        password: \"3\",\n        name: \"Dominique Dubourg\",\n        email: \"dominique.dubourg@stirweld.com\"\n    },\n    {\n        id: \"4\",\n        username: \"gabin.dubourg\",\n        password: \"4\",\n        name: \"Gabin Dubourg\",\n        email: \"gabin.dubourg@stirweld.com\"\n    },\n    {\n        id: \"5\",\n        username: \"gabin.vigor\",\n        password: \"5\",\n        name: \"Gabin Vigor\",\n        email: \"gabin.vigor@stirweld.com\"\n    }\n];\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth__WEBPACK_IMPORTED_MODULE_0___default()({\n    providers: [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n            name: \"Credentials\",\n            credentials: {\n                username: {\n                    label: \"Utilisateur\",\n                    type: \"text\"\n                },\n                password: {\n                    label: \"Mot de passe\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                // Vérifie username + password\n                const user = USERS.find((u)=>u.username === credentials.username && u.password === credentials.password);\n                if (user) {\n                    // Retourne l’objet session avec l’email\n                    return {\n                        id: user.id,\n                        name: user.name,\n                        email: user.email,\n                        image: null\n                    };\n                }\n                return null;\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\"\n    },\n    callbacks: {\n        // Ajoute name et email dans le token JWT\n        async jwt ({ token, user }) {\n            if (user) {\n                token.name = user.name;\n                token.email = user.email;\n                token.image = user.image;\n            }\n            return token;\n        },\n        // Rend name et email disponibles dans session.user côté client\n        async session ({ session, token }) {\n            session.user.name = token.name;\n            session.user.email = token.email;\n            session.user.image = token.image;\n            return session;\n        }\n    },\n    secret: process.env.NEXTAUTH_SECRET\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsa0NBQWtDO0FBQ0Q7QUFDaUM7QUFFbEUsc0VBQXNFO0FBQy9ELE1BQU1FLFFBQVE7SUFDbkI7UUFDRUMsSUFBSTtRQUNKQyxVQUFVO1FBQ1ZDLFVBQVU7UUFDVkMsTUFBTTtRQUNOQyxPQUFPO0lBQ1Q7SUFDQTtRQUNFSixJQUFJO1FBQ0pDLFVBQVU7UUFDVkMsVUFBVTtRQUNWQyxNQUFNO1FBQ05DLE9BQU87SUFDVDtJQUNBO1FBQ0VKLElBQUk7UUFDSkMsVUFBVTtRQUNWQyxVQUFVO1FBQ1ZDLE1BQU07UUFDTkMsT0FBTztJQUNUO0lBQ0E7UUFDRUosSUFBSTtRQUNKQyxVQUFVO1FBQ1ZDLFVBQVU7UUFDVkMsTUFBTTtRQUNOQyxPQUFPO0lBQ1Q7SUFDQTtRQUNFSixJQUFJO1FBQ0pDLFVBQVU7UUFDVkMsVUFBVTtRQUNWQyxNQUFNO1FBQ05DLE9BQU87SUFDVDtDQUNELENBQUM7QUFFRixpRUFBZVAsZ0RBQVFBLENBQUM7SUFDdEJRLFdBQVc7UUFDVFAsc0VBQW1CQSxDQUFDO1lBQ2xCSyxNQUFNO1lBQ05HLGFBQWE7Z0JBQ1hMLFVBQVU7b0JBQUVNLE9BQU87b0JBQWVDLE1BQU07Z0JBQU87Z0JBQy9DTixVQUFVO29CQUFFSyxPQUFPO29CQUFnQkMsTUFBTTtnQkFBVztZQUN0RDtZQUNBLE1BQU1DLFdBQVVILFdBQVc7Z0JBQ3pCLDhCQUE4QjtnQkFDOUIsTUFBTUksT0FBT1gsTUFBTVksSUFBSSxDQUNyQixDQUFDQyxJQUNDQSxFQUFFWCxRQUFRLEtBQUtLLFlBQVlMLFFBQVEsSUFDbkNXLEVBQUVWLFFBQVEsS0FBS0ksWUFBWUosUUFBUTtnQkFFdkMsSUFBSVEsTUFBTTtvQkFDUix3Q0FBd0M7b0JBQ3hDLE9BQU87d0JBQUVWLElBQUlVLEtBQUtWLEVBQUU7d0JBQUVHLE1BQU1PLEtBQUtQLElBQUk7d0JBQUVDLE9BQU9NLEtBQUtOLEtBQUs7d0JBQUVTLE9BQU87b0JBQUs7Z0JBQ3hFO2dCQUNBLE9BQU87WUFDVDtRQUNGO0tBQ0Q7SUFFREMsU0FBUztRQUNQQyxVQUFVO0lBQ1o7SUFFQUMsV0FBVztRQUNULHlDQUF5QztRQUN6QyxNQUFNQyxLQUFJLEVBQUVDLEtBQUssRUFBRVIsSUFBSSxFQUFFO1lBQ3ZCLElBQUlBLE1BQU07Z0JBQ1JRLE1BQU1mLElBQUksR0FBR08sS0FBS1AsSUFBSTtnQkFDdEJlLE1BQU1kLEtBQUssR0FBR00sS0FBS04sS0FBSztnQkFDeEJjLE1BQU1MLEtBQUssR0FBR0gsS0FBS0csS0FBSztZQUMxQjtZQUNBLE9BQU9LO1FBQ1Q7UUFDQSwrREFBK0Q7UUFDL0QsTUFBTUosU0FBUSxFQUFFQSxPQUFPLEVBQUVJLEtBQUssRUFBRTtZQUM5QkosUUFBUUosSUFBSSxDQUFDUCxJQUFJLEdBQUdlLE1BQU1mLElBQUk7WUFDOUJXLFFBQVFKLElBQUksQ0FBQ04sS0FBSyxHQUFHYyxNQUFNZCxLQUFLO1lBQ2hDVSxRQUFRSixJQUFJLENBQUNHLEtBQUssR0FBR0ssTUFBTUwsS0FBSztZQUNoQyxPQUFPQztRQUNUO0lBQ0Y7SUFFQUssUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxlQUFlO0FBQ3JDLEVBQUUsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxOaW5vTWFycXVldC1TdGlyd2VsZFxcRG9jdW1lbnRzXFxnZXN0aW9uLXN0b2NrLWFwcFxccGFnZXNcXGFwaVxcYXV0aFxcWy4uLm5leHRhdXRoXS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLmpzXHJcbmltcG9ydCBOZXh0QXV0aCBmcm9tIFwibmV4dC1hdXRoXCI7XHJcbmltcG9ydCBDcmVkZW50aWFsc1Byb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzXCI7XHJcblxyXG4vLyBMaXN0ZSBkZXMgdXRpbGlzYXRldXJzIHBvdXIgbOKAmWF1dGhlbnRpZmljYXRpb24gZXQgbGUgZmFsbGJhY2sgZW1haWxcclxuZXhwb3J0IGNvbnN0IFVTRVJTID0gW1xyXG4gIHtcclxuICAgIGlkOiBcIjFcIixcclxuICAgIHVzZXJuYW1lOiBcIm5pbm8ubWFycXVldFwiLFxyXG4gICAgcGFzc3dvcmQ6IFwiMVwiLFxyXG4gICAgbmFtZTogXCJOaW5vIE1hcnF1ZXRcIixcclxuICAgIGVtYWlsOiBcIm5pbm8ubWFycXVldEBzdGlyd2VsZC5jb21cIixcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiBcIjJcIixcclxuICAgIHVzZXJuYW1lOiBcImFudGhvbnkudHJvdXZlXCIsXHJcbiAgICBwYXNzd29yZDogXCIyXCIsXHJcbiAgICBuYW1lOiBcIkFudGhvbnkgVHJvdXbDqVwiLFxyXG4gICAgZW1haWw6IFwiYW50aG9ueS50cm91dmVAc3RpcndlbGQuY29tXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogXCIzXCIsXHJcbiAgICB1c2VybmFtZTogXCJkb21pbmlxdWUuZHVib3VyZ1wiLFxyXG4gICAgcGFzc3dvcmQ6IFwiM1wiLFxyXG4gICAgbmFtZTogXCJEb21pbmlxdWUgRHVib3VyZ1wiLFxyXG4gICAgZW1haWw6IFwiZG9taW5pcXVlLmR1Ym91cmdAc3RpcndlbGQuY29tXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogXCI0XCIsXHJcbiAgICB1c2VybmFtZTogXCJnYWJpbi5kdWJvdXJnXCIsXHJcbiAgICBwYXNzd29yZDogXCI0XCIsXHJcbiAgICBuYW1lOiBcIkdhYmluIER1Ym91cmdcIixcclxuICAgIGVtYWlsOiBcImdhYmluLmR1Ym91cmdAc3RpcndlbGQuY29tXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogXCI1XCIsXHJcbiAgICB1c2VybmFtZTogXCJnYWJpbi52aWdvclwiLFxyXG4gICAgcGFzc3dvcmQ6IFwiNVwiLFxyXG4gICAgbmFtZTogXCJHYWJpbiBWaWdvclwiLFxyXG4gICAgZW1haWw6IFwiZ2FiaW4udmlnb3JAc3RpcndlbGQuY29tXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE5leHRBdXRoKHtcclxuICBwcm92aWRlcnM6IFtcclxuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xyXG4gICAgICBuYW1lOiBcIkNyZWRlbnRpYWxzXCIsXHJcbiAgICAgIGNyZWRlbnRpYWxzOiB7XHJcbiAgICAgICAgdXNlcm5hbWU6IHsgbGFiZWw6IFwiVXRpbGlzYXRldXJcIiwgdHlwZTogXCJ0ZXh0XCIgfSxcclxuICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogXCJNb3QgZGUgcGFzc2VcIiwgdHlwZTogXCJwYXNzd29yZFwiIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xyXG4gICAgICAgIC8vIFbDqXJpZmllIHVzZXJuYW1lICsgcGFzc3dvcmRcclxuICAgICAgICBjb25zdCB1c2VyID0gVVNFUlMuZmluZChcclxuICAgICAgICAgICh1KSA9PlxyXG4gICAgICAgICAgICB1LnVzZXJuYW1lID09PSBjcmVkZW50aWFscy51c2VybmFtZSAmJlxyXG4gICAgICAgICAgICB1LnBhc3N3b3JkID09PSBjcmVkZW50aWFscy5wYXNzd29yZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAgIC8vIFJldG91cm5lIGzigJlvYmpldCBzZXNzaW9uIGF2ZWMgbOKAmWVtYWlsXHJcbiAgICAgICAgICByZXR1cm4geyBpZDogdXNlci5pZCwgbmFtZTogdXNlci5uYW1lLCBlbWFpbDogdXNlci5lbWFpbCwgaW1hZ2U6IG51bGwgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH0sXHJcbiAgICB9KSxcclxuICBdLFxyXG5cclxuICBzZXNzaW9uOiB7XHJcbiAgICBzdHJhdGVneTogXCJqd3RcIiwgLy8gb24gdXRpbGlzZSBsZSBKV1QgcG91ciBwcm9wYWdlciBs4oCZZW1haWxcclxuICB9LFxyXG5cclxuICBjYWxsYmFja3M6IHtcclxuICAgIC8vIEFqb3V0ZSBuYW1lIGV0IGVtYWlsIGRhbnMgbGUgdG9rZW4gSldUXHJcbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciB9KSB7XHJcbiAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgdG9rZW4ubmFtZSA9IHVzZXIubmFtZTtcclxuICAgICAgICB0b2tlbi5lbWFpbCA9IHVzZXIuZW1haWw7XHJcbiAgICAgICAgdG9rZW4uaW1hZ2UgPSB1c2VyLmltYWdlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0sXHJcbiAgICAvLyBSZW5kIG5hbWUgZXQgZW1haWwgZGlzcG9uaWJsZXMgZGFucyBzZXNzaW9uLnVzZXIgY8O0dMOpIGNsaWVudFxyXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcclxuICAgICAgc2Vzc2lvbi51c2VyLm5hbWUgPSB0b2tlbi5uYW1lO1xyXG4gICAgICBzZXNzaW9uLnVzZXIuZW1haWwgPSB0b2tlbi5lbWFpbDtcclxuICAgICAgc2Vzc2lvbi51c2VyLmltYWdlID0gdG9rZW4uaW1hZ2U7XHJcbiAgICAgIHJldHVybiBzZXNzaW9uO1xyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICBzZWNyZXQ6IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCxcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJOZXh0QXV0aCIsIkNyZWRlbnRpYWxzUHJvdmlkZXIiLCJVU0VSUyIsImlkIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIm5hbWUiLCJlbWFpbCIsInByb3ZpZGVycyIsImNyZWRlbnRpYWxzIiwibGFiZWwiLCJ0eXBlIiwiYXV0aG9yaXplIiwidXNlciIsImZpbmQiLCJ1IiwiaW1hZ2UiLCJzZXNzaW9uIiwic3RyYXRlZ3kiLCJjYWxsYmFja3MiLCJqd3QiLCJ0b2tlbiIsInNlY3JldCIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9TRUNSRVQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/auth/[...nextauth].js\n");

/***/ }),

/***/ "(api-node)/./pages/api/stock.js":
/*!****************************!*\
  !*** ./pages/api/stock.js ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! xlsx */ \"xlsx\");\n/* harmony import */ var xlsx__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(xlsx__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next-auth/next */ \"next-auth/next\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_auth_next__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _auth_nextauth___WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./auth/[...nextauth] */ \"(api-node)/./pages/api/auth/[...nextauth].js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([uuid__WEBPACK_IMPORTED_MODULE_3__]);\nuuid__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// pages/api/stock.js\n\n\n\n\n\n\nconst STOCK_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"public\", \"Stock.xlsm\");\nconst HISTORY_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"stockHistory.json\");\n// Ajoute une entrée dans le journal des modifications\nasync function appendHistory(entry) {\n    let history = [];\n    try {\n        const content = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_0__.readFile)(HISTORY_FILE, \"utf8\");\n        history = JSON.parse(content);\n        if (!Array.isArray(history)) history = [];\n    } catch (e) {\n        // if the file doesn't exist or JSON is malformed,\n        // we just start a fresh history array\n        history = [];\n    }\n    history.push(entry);\n    await (0,fs_promises__WEBPACK_IMPORTED_MODULE_0__.writeFile)(HISTORY_FILE, JSON.stringify(history, null, 2));\n}\nasync function handler(req, res) {\n    // 1) Authentification\n    const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_4__.getServerSession)(req, res, _auth_nextauth___WEBPACK_IMPORTED_MODULE_5__.authOptions);\n    if (!session) {\n        return res.status(401).json({\n            error: \"Non authentifié\"\n        });\n    }\n    const user = session.user.name;\n    // 2) Lecture du fichier Excel\n    const buffer = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_0__.readFile)(STOCK_FILE);\n    const workbook = xlsx__WEBPACK_IMPORTED_MODULE_2___default().read(buffer, {\n        type: \"buffer\"\n    });\n    const sheetNm = workbook.SheetNames[0];\n    const sheet = workbook.Sheets[sheetNm];\n    const rows = xlsx__WEBPACK_IMPORTED_MODULE_2___default().utils.sheet_to_json(sheet, {\n        defval: \"\",\n        range: 0\n    });\n    // GET : renvoyer tout le stock\n    if (req.method === \"GET\") {\n        return res.status(200).json(rows);\n    }\n    // POST : création d’une nouvelle ligne\n    if (req.method === \"POST\") {\n        const { Marque, Ref, Désignation, Fournisseurs, \"Qte stock\": qteStock, \"Qte mini\": qteMini } = req.body;\n        // 1) Ajout en mémoire\n        const newRow = {\n            Marque,\n            Ref,\n            Désignation,\n            Fournisseurs,\n            \"Qte stock\": qteStock,\n            \"Qte mini\": qteMini\n        };\n        rows.push(newRow);\n        // 2) Reconstruction de la feuille Excel\n        const newSheet = xlsx__WEBPACK_IMPORTED_MODULE_2___default().utils.json_to_sheet(rows, {\n            header: Object.keys(rows[0]),\n            skipHeader: false\n        });\n        workbook.Sheets[sheetNm] = newSheet;\n        // 3) Écriture du fichier\n        const out = xlsx__WEBPACK_IMPORTED_MODULE_2___default().write(workbook, {\n            bookType: \"xlsm\",\n            type: \"buffer\"\n        });\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_0__.writeFile)(STOCK_FILE, out);\n        // 4) Journalisation\n        await appendHistory({\n            id: (0,uuid__WEBPACK_IMPORTED_MODULE_3__.v4)(),\n            type: \"stock_create\",\n            ref: Ref,\n            field: null,\n            oldValue: null,\n            newValue: newRow,\n            user,\n            timestamp: new Date().toISOString()\n        });\n        return res.status(201).json(newRow);\n    }\n    // PUT : mise à jour d’une cellule\n    if (req.method === \"PUT\") {\n        const { Ref, field, value } = req.body;\n        const idx = rows.findIndex((r)=>String(r.Ref) === String(Ref));\n        if (idx === -1) {\n            return res.status(404).json({\n                error: \"Réf introuvable\"\n            });\n        }\n        const oldValue = rows[idx][field];\n        rows[idx][field] = value;\n        // Reconstruire la feuille\n        const updatedSheet = xlsx__WEBPACK_IMPORTED_MODULE_2___default().utils.json_to_sheet(rows, {\n            header: Object.keys(rows[0]),\n            skipHeader: false\n        });\n        workbook.Sheets[sheetNm] = updatedSheet;\n        const outBuf = xlsx__WEBPACK_IMPORTED_MODULE_2___default().write(workbook, {\n            bookType: \"xlsm\",\n            type: \"buffer\"\n        });\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_0__.writeFile)(STOCK_FILE, outBuf);\n        // Journaliser la modification\n        await appendHistory({\n            id: (0,uuid__WEBPACK_IMPORTED_MODULE_3__.v4)(),\n            type: \"stock_update\",\n            ref: Ref,\n            field,\n            oldValue,\n            newValue: value,\n            user,\n            timestamp: new Date().toISOString()\n        });\n        return res.status(200).json(rows[idx]);\n    }\n    // DELETE : suppression d’une ligne par Ref\n    if (req.method === \"DELETE\") {\n        const { Ref } = req.query;\n        const idx = rows.findIndex((r)=>String(r.Ref) === String(Ref));\n        if (idx === -1) {\n            return res.status(404).json({\n                error: \"Réf introuvable\"\n            });\n        }\n        const deletedRow = rows.splice(idx, 1)[0];\n        // Reconstruire la feuille\n        const newSheet = xlsx__WEBPACK_IMPORTED_MODULE_2___default().utils.json_to_sheet(rows, {\n            header: Object.keys(rows[0]),\n            skipHeader: false\n        });\n        workbook.Sheets[sheetNm] = newSheet;\n        const outBuf = xlsx__WEBPACK_IMPORTED_MODULE_2___default().write(workbook, {\n            bookType: \"xlsm\",\n            type: \"buffer\"\n        });\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_0__.writeFile)(STOCK_FILE, outBuf);\n        // Journaliser la suppression\n        await appendHistory({\n            id: (0,uuid__WEBPACK_IMPORTED_MODULE_3__.v4)(),\n            type: \"stock_delete\",\n            ref: Ref,\n            field: null,\n            oldValue: deletedRow,\n            newValue: null,\n            user,\n            timestamp: new Date().toISOString()\n        });\n        return res.status(204).end();\n    }\n    // Méthode non supportée\n    res.setHeader(\"Allow\", [\n        \"GET\",\n        \"POST\",\n        \"PUT\",\n        \"DELETE\"\n    ]);\n    return res.status(405).end();\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxTQUFTO1FBQUM7UUFBTTtRQUFPO1FBQU07S0FBUztJQUNwRCxPQUFPekQsSUFBSUUsTUFBTSxDQUFDLEtBQUtzRCxHQUFHO0FBQzVCIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXE5pbm9NYXJxdWV0LVN0aXJ3ZWxkXFxEb2N1bWVudHNcXGdlc3Rpb24tc3RvY2stYXBwXFxwYWdlc1xcYXBpXFxzdG9jay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9hcGkvc3RvY2suanNcclxuaW1wb3J0IHsgcmVhZEZpbGUsIHdyaXRlRmlsZSB9IGZyb20gXCJmcy9wcm9taXNlc1wiO1xyXG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xyXG5pbXBvcnQgWExTWCBmcm9tIFwieGxzeFwiO1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tIFwidXVpZFwiO1xyXG5pbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSBcIm5leHQtYXV0aC9uZXh0XCI7XHJcbmltcG9ydCB7IGF1dGhPcHRpb25zIH0gZnJvbSBcIi4vYXV0aC9bLi4ubmV4dGF1dGhdXCI7XHJcblxyXG5jb25zdCBTVE9DS19GSUxFICAgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgXCJwdWJsaWNcIiwgIFwiU3RvY2sueGxzbVwiKTtcclxuY29uc3QgSElTVE9SWV9GSUxFID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIFwiZGF0YVwiLCAgICBcInN0b2NrSGlzdG9yeS5qc29uXCIpO1xyXG5cclxuLy8gQWpvdXRlIHVuZSBlbnRyw6llIGRhbnMgbGUgam91cm5hbCBkZXMgbW9kaWZpY2F0aW9uc1xyXG5hc3luYyBmdW5jdGlvbiBhcHBlbmRIaXN0b3J5KGVudHJ5KSB7XHJcbiAgbGV0IGhpc3RvcnkgPSBbXTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IHJlYWRGaWxlKEhJU1RPUllfRklMRSwgXCJ1dGY4XCIpO1xyXG4gICAgaGlzdG9yeSA9IEpTT04ucGFyc2UoY29udGVudCk7XHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoaGlzdG9yeSkpIGhpc3RvcnkgPSBbXTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICAvLyBpZiB0aGUgZmlsZSBkb2Vzbid0IGV4aXN0IG9yIEpTT04gaXMgbWFsZm9ybWVkLFxyXG4gICAgLy8gd2UganVzdCBzdGFydCBhIGZyZXNoIGhpc3RvcnkgYXJyYXlcclxuICAgIGhpc3RvcnkgPSBbXTtcclxuICB9XHJcbiAgaGlzdG9yeS5wdXNoKGVudHJ5KTtcclxuICBhd2FpdCB3cml0ZUZpbGUoSElTVE9SWV9GSUxFLCBKU09OLnN0cmluZ2lmeShoaXN0b3J5LCBudWxsLCAyKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICAvLyAxKSBBdXRoZW50aWZpY2F0aW9uXHJcbiAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24ocmVxLCByZXMsIGF1dGhPcHRpb25zKTtcclxuICBpZiAoIXNlc3Npb24pIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiBcIk5vbiBhdXRoZW50aWZpw6lcIiB9KTtcclxuICB9XHJcbiAgY29uc3QgdXNlciA9IHNlc3Npb24udXNlci5uYW1lO1xyXG5cclxuICAvLyAyKSBMZWN0dXJlIGR1IGZpY2hpZXIgRXhjZWxcclxuICBjb25zdCBidWZmZXIgICA9IGF3YWl0IHJlYWRGaWxlKFNUT0NLX0ZJTEUpO1xyXG4gIGNvbnN0IHdvcmtib29rID0gWExTWC5yZWFkKGJ1ZmZlciwgeyB0eXBlOiBcImJ1ZmZlclwiIH0pO1xyXG4gIGNvbnN0IHNoZWV0Tm0gID0gd29ya2Jvb2suU2hlZXROYW1lc1swXTtcclxuICBjb25zdCBzaGVldCAgICA9IHdvcmtib29rLlNoZWV0c1tzaGVldE5tXTtcclxuICBjb25zdCByb3dzICAgICA9IFhMU1gudXRpbHMuc2hlZXRfdG9fanNvbihzaGVldCwgeyBkZWZ2YWw6IFwiXCIsIHJhbmdlOiAwIH0pO1xyXG5cclxuICAvLyBHRVQgOiByZW52b3llciB0b3V0IGxlIHN0b2NrXHJcbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiR0VUXCIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihyb3dzKTtcclxuICB9XHJcblxyXG4gIC8vIFBPU1QgOiBjcsOpYXRpb24gZOKAmXVuZSBub3V2ZWxsZSBsaWduZVxyXG4gIGlmIChyZXEubWV0aG9kID09PSBcIlBPU1RcIikge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBNYXJxdWUsXHJcbiAgICAgIFJlZixcclxuICAgICAgRMOpc2lnbmF0aW9uLFxyXG4gICAgICBGb3Vybmlzc2V1cnMsXHJcbiAgICAgIFwiUXRlIHN0b2NrXCI6IHF0ZVN0b2NrLFxyXG4gICAgICBcIlF0ZSBtaW5pXCI6ICBxdGVNaW5pXHJcbiAgICB9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgLy8gMSkgQWpvdXQgZW4gbcOpbW9pcmVcclxuICAgIGNvbnN0IG5ld1JvdyA9IHsgTWFycXVlLCBSZWYsIETDqXNpZ25hdGlvbiwgRm91cm5pc3NldXJzLCBcIlF0ZSBzdG9ja1wiOiBxdGVTdG9jaywgXCJRdGUgbWluaVwiOiBxdGVNaW5pIH07XHJcbiAgICByb3dzLnB1c2gobmV3Um93KTtcclxuXHJcbiAgICAvLyAyKSBSZWNvbnN0cnVjdGlvbiBkZSBsYSBmZXVpbGxlIEV4Y2VsXHJcbiAgICBjb25zdCBuZXdTaGVldCA9IFhMU1gudXRpbHMuanNvbl90b19zaGVldChyb3dzLCB7XHJcbiAgICAgIGhlYWRlcjogT2JqZWN0LmtleXMocm93c1swXSksXHJcbiAgICAgIHNraXBIZWFkZXI6IGZhbHNlXHJcbiAgICB9KTtcclxuICAgIHdvcmtib29rLlNoZWV0c1tzaGVldE5tXSA9IG5ld1NoZWV0O1xyXG5cclxuICAgIC8vIDMpIMOJY3JpdHVyZSBkdSBmaWNoaWVyXHJcbiAgICBjb25zdCBvdXQgPSBYTFNYLndyaXRlKHdvcmtib29rLCB7IGJvb2tUeXBlOiBcInhsc21cIiwgdHlwZTogXCJidWZmZXJcIiB9KTtcclxuICAgIGF3YWl0IHdyaXRlRmlsZShTVE9DS19GSUxFLCBvdXQpO1xyXG5cclxuICAgIC8vIDQpIEpvdXJuYWxpc2F0aW9uXHJcbiAgICBhd2FpdCBhcHBlbmRIaXN0b3J5KHtcclxuICAgICAgaWQ6ICAgICAgICB1dWlkdjQoKSxcclxuICAgICAgdHlwZTogICAgICBcInN0b2NrX2NyZWF0ZVwiLFxyXG4gICAgICByZWY6ICAgICAgIFJlZixcclxuICAgICAgZmllbGQ6ICAgICBudWxsLFxyXG4gICAgICBvbGRWYWx1ZTogIG51bGwsXHJcbiAgICAgIG5ld1ZhbHVlOiAgbmV3Um93LFxyXG4gICAgICB1c2VyLFxyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKG5ld1Jvdyk7XHJcbiAgfVxyXG5cclxuICAvLyBQVVQgOiBtaXNlIMOgIGpvdXIgZOKAmXVuZSBjZWxsdWxlXHJcbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiUFVUXCIpIHtcclxuICAgIGNvbnN0IHsgUmVmLCBmaWVsZCwgdmFsdWUgfSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3QgaWR4ID0gcm93cy5maW5kSW5kZXgociA9PiBTdHJpbmcoci5SZWYpID09PSBTdHJpbmcoUmVmKSk7XHJcbiAgICBpZiAoaWR4ID09PSAtMSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogXCJSw6lmIGludHJvdXZhYmxlXCIgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb2xkVmFsdWUgPSByb3dzW2lkeF1bZmllbGRdO1xyXG4gICAgcm93c1tpZHhdW2ZpZWxkXSA9IHZhbHVlO1xyXG5cclxuICAgIC8vIFJlY29uc3RydWlyZSBsYSBmZXVpbGxlXHJcbiAgICBjb25zdCB1cGRhdGVkU2hlZXQgPSBYTFNYLnV0aWxzLmpzb25fdG9fc2hlZXQocm93cywge1xyXG4gICAgICBoZWFkZXI6IE9iamVjdC5rZXlzKHJvd3NbMF0pLFxyXG4gICAgICBza2lwSGVhZGVyOiBmYWxzZVxyXG4gICAgfSk7XHJcbiAgICB3b3JrYm9vay5TaGVldHNbc2hlZXRObV0gPSB1cGRhdGVkU2hlZXQ7XHJcbiAgICBjb25zdCBvdXRCdWYgPSBYTFNYLndyaXRlKHdvcmtib29rLCB7IGJvb2tUeXBlOiBcInhsc21cIiwgdHlwZTogXCJidWZmZXJcIiB9KTtcclxuICAgIGF3YWl0IHdyaXRlRmlsZShTVE9DS19GSUxFLCBvdXRCdWYpO1xyXG5cclxuICAgIC8vIEpvdXJuYWxpc2VyIGxhIG1vZGlmaWNhdGlvblxyXG4gICAgYXdhaXQgYXBwZW5kSGlzdG9yeSh7XHJcbiAgICAgIGlkOiAgICAgICAgdXVpZHY0KCksXHJcbiAgICAgIHR5cGU6ICAgICAgXCJzdG9ja191cGRhdGVcIixcclxuICAgICAgcmVmOiAgICAgICBSZWYsXHJcbiAgICAgIGZpZWxkLFxyXG4gICAgICBvbGRWYWx1ZSxcclxuICAgICAgbmV3VmFsdWU6ICB2YWx1ZSxcclxuICAgICAgdXNlcixcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihyb3dzW2lkeF0pO1xyXG4gIH1cclxuXHJcbiAgLy8gREVMRVRFIDogc3VwcHJlc3Npb24gZOKAmXVuZSBsaWduZSBwYXIgUmVmXHJcbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiREVMRVRFXCIpIHtcclxuICAgIGNvbnN0IHsgUmVmIH0gPSByZXEucXVlcnk7XHJcbiAgICBjb25zdCBpZHggPSByb3dzLmZpbmRJbmRleChyID0+IFN0cmluZyhyLlJlZikgPT09IFN0cmluZyhSZWYpKTtcclxuICAgIGlmIChpZHggPT09IC0xKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiBcIlLDqWYgaW50cm91dmFibGVcIiB9KTtcclxuICAgIH1cclxuICAgIGNvbnN0IGRlbGV0ZWRSb3cgPSByb3dzLnNwbGljZShpZHgsIDEpWzBdO1xyXG5cclxuICAgIC8vIFJlY29uc3RydWlyZSBsYSBmZXVpbGxlXHJcbiAgICBjb25zdCBuZXdTaGVldCA9IFhMU1gudXRpbHMuanNvbl90b19zaGVldChyb3dzLCB7XHJcbiAgICAgIGhlYWRlcjogT2JqZWN0LmtleXMocm93c1swXSksXHJcbiAgICAgIHNraXBIZWFkZXI6IGZhbHNlXHJcbiAgICB9KTtcclxuICAgIHdvcmtib29rLlNoZWV0c1tzaGVldE5tXSA9IG5ld1NoZWV0O1xyXG4gICAgY29uc3Qgb3V0QnVmID0gWExTWC53cml0ZSh3b3JrYm9vaywgeyBib29rVHlwZTogXCJ4bHNtXCIsIHR5cGU6IFwiYnVmZmVyXCIgfSk7XHJcbiAgICBhd2FpdCB3cml0ZUZpbGUoU1RPQ0tfRklMRSwgb3V0QnVmKTtcclxuXHJcbiAgICAvLyBKb3VybmFsaXNlciBsYSBzdXBwcmVzc2lvblxyXG4gICAgYXdhaXQgYXBwZW5kSGlzdG9yeSh7XHJcbiAgICAgIGlkOiAgICAgICAgdXVpZHY0KCksXHJcbiAgICAgIHR5cGU6ICAgICAgXCJzdG9ja19kZWxldGVcIixcclxuICAgICAgcmVmOiAgICAgICBSZWYsXHJcbiAgICAgIGZpZWxkOiAgICAgbnVsbCxcclxuICAgICAgb2xkVmFsdWU6ICBkZWxldGVkUm93LFxyXG4gICAgICBuZXdWYWx1ZTogIG51bGwsXHJcbiAgICAgIHVzZXIsXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDQpLmVuZCgpO1xyXG4gIH1cclxuXHJcbiAgLy8gTcOpdGhvZGUgbm9uIHN1cHBvcnTDqWVcclxuICByZXMuc2V0SGVhZGVyKFwiQWxsb3dcIiwgW1wiR0VUXCIsXCJQT1NUXCIsXCJQVVRcIixcIkRFTEVURVwiXSk7XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5lbmQoKTtcclxufVxyXG4iXSwibmFtZXMiOlsicmVhZEZpbGUiLCJ3cml0ZUZpbGUiLCJwYXRoIiwiWExTWCIsInY0IiwidXVpZHY0IiwiZ2V0U2VydmVyU2Vzc2lvbiIsImF1dGhPcHRpb25zIiwiU1RPQ0tfRklMRSIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiSElTVE9SWV9GSUxFIiwiYXBwZW5kSGlzdG9yeSIsImVudHJ5IiwiaGlzdG9yeSIsImNvbnRlbnQiLCJKU09OIiwicGFyc2UiLCJBcnJheSIsImlzQXJyYXkiLCJlIiwicHVzaCIsInN0cmluZ2lmeSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJzZXNzaW9uIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwidXNlciIsIm5hbWUiLCJidWZmZXIiLCJ3b3JrYm9vayIsInJlYWQiLCJ0eXBlIiwic2hlZXRObSIsIlNoZWV0TmFtZXMiLCJzaGVldCIsIlNoZWV0cyIsInJvd3MiLCJ1dGlscyIsInNoZWV0X3RvX2pzb24iLCJkZWZ2YWwiLCJyYW5nZSIsIm1ldGhvZCIsIk1hcnF1ZSIsIlJlZiIsIkTDqXNpZ25hdGlvbiIsIkZvdXJuaXNzZXVycyIsInF0ZVN0b2NrIiwicXRlTWluaSIsImJvZHkiLCJuZXdSb3ciLCJuZXdTaGVldCIsImpzb25fdG9fc2hlZXQiLCJoZWFkZXIiLCJPYmplY3QiLCJrZXlzIiwic2tpcEhlYWRlciIsIm91dCIsIndyaXRlIiwiYm9va1R5cGUiLCJpZCIsInJlZiIsImZpZWxkIiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInZhbHVlIiwiaWR4IiwiZmluZEluZGV4IiwiciIsIlN0cmluZyIsInVwZGF0ZWRTaGVldCIsIm91dEJ1ZiIsInF1ZXJ5IiwiZGVsZXRlZFJvdyIsInNwbGljZSIsImVuZCIsInNldEhlYWRlciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/stock.js\n");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/next":
/*!*********************************!*\
  !*** external "next-auth/next" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("next-auth/next");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

module.exports = import("uuid");;

/***/ }),

/***/ "xlsx":
/*!***********************!*\
  !*** external "xlsx" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("xlsx");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstock&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cstock.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();