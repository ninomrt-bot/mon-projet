"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/commandes";
exports.ids = ["pages/api/commandes"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcommandes&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ccommandes.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcommandes&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ccommandes.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_commandes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\commandes.js */ \"(api-node)/./pages/api/commandes.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_commandes_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_commandes_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_commandes_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_commandes_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/commandes\",\n        pathname: \"/api/commandes\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_commandes_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGY29tbWFuZGVzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNjb21tYW5kZXMuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDdUQ7QUFDdkQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLG9EQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxvREFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxjb21tYW5kZXMuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NvbW1hbmRlc1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NvbW1hbmRlc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcommandes&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ccommandes.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/auth/[...nextauth].js":
/*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   USERS: () => (/* binding */ USERS),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__);\n// pages/api/auth/[...nextauth].js\n\n\n// Liste des utilisateurs pour l’authentification et le fallback email\nconst USERS = [\n    {\n        id: \"1\",\n        username: \"nino.marquet\",\n        password: \"1\",\n        name: \"Nino Marquet\",\n        email: \"nino.marquet@stirweld.com\"\n    },\n    {\n        id: \"2\",\n        username: \"anthony.trouve\",\n        password: \"2\",\n        name: \"Anthony Trouvé\",\n        email: \"anthony.trouve@stirweld.com\"\n    },\n    {\n        id: \"3\",\n        username: \"dominique.dubourg\",\n        password: \"3\",\n        name: \"Dominique Dubourg\",\n        email: \"dominique.dubourg@stirweld.com\"\n    },\n    {\n        id: \"4\",\n        username: \"gabin.dubourg\",\n        password: \"4\",\n        name: \"Gabin Dubourg\",\n        email: \"gabin.dubourg@stirweld.com\"\n    },\n    {\n        id: \"5\",\n        username: \"gabin.vigor\",\n        password: \"5\",\n        name: \"Gabin Vigor\",\n        email: \"gabin.vigor@stirweld.com\"\n    }\n];\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth__WEBPACK_IMPORTED_MODULE_0___default()({\n    providers: [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n            name: \"Credentials\",\n            credentials: {\n                username: {\n                    label: \"Utilisateur\",\n                    type: \"text\"\n                },\n                password: {\n                    label: \"Mot de passe\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                // Vérifie username + password\n                const user = USERS.find((u)=>u.username === credentials.username && u.password === credentials.password);\n                if (user) {\n                    // Retourne l’objet session avec l’email\n                    return {\n                        id: user.id,\n                        name: user.name,\n                        email: user.email,\n                        image: null\n                    };\n                }\n                return null;\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\"\n    },\n    callbacks: {\n        // Ajoute name et email dans le token JWT\n        async jwt ({ token, user }) {\n            if (user) {\n                token.name = user.name;\n                token.email = user.email;\n                token.image = user.image;\n            }\n            return token;\n        },\n        // Rend name et email disponibles dans session.user côté client\n        async session ({ session, token }) {\n            session.user.name = token.name;\n            session.user.email = token.email;\n            session.user.image = token.image;\n            return session;\n        }\n    },\n    secret: process.env.NEXTAUTH_SECRET\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsa0NBQWtDO0FBQ0Q7QUFDaUM7QUFFbEUsc0VBQXNFO0FBQy9ELE1BQU1FLFFBQVE7SUFDbkI7UUFDRUMsSUFBSTtRQUNKQyxVQUFVO1FBQ1ZDLFVBQVU7UUFDVkMsTUFBTTtRQUNOQyxPQUFPO0lBQ1Q7SUFDQTtRQUNFSixJQUFJO1FBQ0pDLFVBQVU7UUFDVkMsVUFBVTtRQUNWQyxNQUFNO1FBQ05DLE9BQU87SUFDVDtJQUNBO1FBQ0VKLElBQUk7UUFDSkMsVUFBVTtRQUNWQyxVQUFVO1FBQ1ZDLE1BQU07UUFDTkMsT0FBTztJQUNUO0lBQ0E7UUFDRUosSUFBSTtRQUNKQyxVQUFVO1FBQ1ZDLFVBQVU7UUFDVkMsTUFBTTtRQUNOQyxPQUFPO0lBQ1Q7SUFDQTtRQUNFSixJQUFJO1FBQ0pDLFVBQVU7UUFDVkMsVUFBVTtRQUNWQyxNQUFNO1FBQ05DLE9BQU87SUFDVDtDQUNELENBQUM7QUFFRixpRUFBZVAsZ0RBQVFBLENBQUM7SUFDdEJRLFdBQVc7UUFDVFAsc0VBQW1CQSxDQUFDO1lBQ2xCSyxNQUFNO1lBQ05HLGFBQWE7Z0JBQ1hMLFVBQVU7b0JBQUVNLE9BQU87b0JBQWVDLE1BQU07Z0JBQU87Z0JBQy9DTixVQUFVO29CQUFFSyxPQUFPO29CQUFnQkMsTUFBTTtnQkFBVztZQUN0RDtZQUNBLE1BQU1DLFdBQVVILFdBQVc7Z0JBQ3pCLDhCQUE4QjtnQkFDOUIsTUFBTUksT0FBT1gsTUFBTVksSUFBSSxDQUNyQixDQUFDQyxJQUNDQSxFQUFFWCxRQUFRLEtBQUtLLFlBQVlMLFFBQVEsSUFDbkNXLEVBQUVWLFFBQVEsS0FBS0ksWUFBWUosUUFBUTtnQkFFdkMsSUFBSVEsTUFBTTtvQkFDUix3Q0FBd0M7b0JBQ3hDLE9BQU87d0JBQUVWLElBQUlVLEtBQUtWLEVBQUU7d0JBQUVHLE1BQU1PLEtBQUtQLElBQUk7d0JBQUVDLE9BQU9NLEtBQUtOLEtBQUs7d0JBQUVTLE9BQU87b0JBQUs7Z0JBQ3hFO2dCQUNBLE9BQU87WUFDVDtRQUNGO0tBQ0Q7SUFFREMsU0FBUztRQUNQQyxVQUFVO0lBQ1o7SUFFQUMsV0FBVztRQUNULHlDQUF5QztRQUN6QyxNQUFNQyxLQUFJLEVBQUVDLEtBQUssRUFBRVIsSUFBSSxFQUFFO1lBQ3ZCLElBQUlBLE1BQU07Z0JBQ1JRLE1BQU1mLElBQUksR0FBR08sS0FBS1AsSUFBSTtnQkFDdEJlLE1BQU1kLEtBQUssR0FBR00sS0FBS04sS0FBSztnQkFDeEJjLE1BQU1MLEtBQUssR0FBR0gsS0FBS0csS0FBSztZQUMxQjtZQUNBLE9BQU9LO1FBQ1Q7UUFDQSwrREFBK0Q7UUFDL0QsTUFBTUosU0FBUSxFQUFFQSxPQUFPLEVBQUVJLEtBQUssRUFBRTtZQUM5QkosUUFBUUosSUFBSSxDQUFDUCxJQUFJLEdBQUdlLE1BQU1mLElBQUk7WUFDOUJXLFFBQVFKLElBQUksQ0FBQ04sS0FBSyxHQUFHYyxNQUFNZCxLQUFLO1lBQ2hDVSxRQUFRSixJQUFJLENBQUNHLEtBQUssR0FBR0ssTUFBTUwsS0FBSztZQUNoQyxPQUFPQztRQUNUO0lBQ0Y7SUFFQUssUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxlQUFlO0FBQ3JDLEVBQUUsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxOaW5vTWFycXVldC1TdGlyd2VsZFxcRG9jdW1lbnRzXFxnZXN0aW9uLXN0b2NrLWFwcFxccGFnZXNcXGFwaVxcYXV0aFxcWy4uLm5leHRhdXRoXS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLmpzXHJcbmltcG9ydCBOZXh0QXV0aCBmcm9tIFwibmV4dC1hdXRoXCI7XHJcbmltcG9ydCBDcmVkZW50aWFsc1Byb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzXCI7XHJcblxyXG4vLyBMaXN0ZSBkZXMgdXRpbGlzYXRldXJzIHBvdXIgbOKAmWF1dGhlbnRpZmljYXRpb24gZXQgbGUgZmFsbGJhY2sgZW1haWxcclxuZXhwb3J0IGNvbnN0IFVTRVJTID0gW1xyXG4gIHtcclxuICAgIGlkOiBcIjFcIixcclxuICAgIHVzZXJuYW1lOiBcIm5pbm8ubWFycXVldFwiLFxyXG4gICAgcGFzc3dvcmQ6IFwiMVwiLFxyXG4gICAgbmFtZTogXCJOaW5vIE1hcnF1ZXRcIixcclxuICAgIGVtYWlsOiBcIm5pbm8ubWFycXVldEBzdGlyd2VsZC5jb21cIixcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiBcIjJcIixcclxuICAgIHVzZXJuYW1lOiBcImFudGhvbnkudHJvdXZlXCIsXHJcbiAgICBwYXNzd29yZDogXCIyXCIsXHJcbiAgICBuYW1lOiBcIkFudGhvbnkgVHJvdXbDqVwiLFxyXG4gICAgZW1haWw6IFwiYW50aG9ueS50cm91dmVAc3RpcndlbGQuY29tXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogXCIzXCIsXHJcbiAgICB1c2VybmFtZTogXCJkb21pbmlxdWUuZHVib3VyZ1wiLFxyXG4gICAgcGFzc3dvcmQ6IFwiM1wiLFxyXG4gICAgbmFtZTogXCJEb21pbmlxdWUgRHVib3VyZ1wiLFxyXG4gICAgZW1haWw6IFwiZG9taW5pcXVlLmR1Ym91cmdAc3RpcndlbGQuY29tXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogXCI0XCIsXHJcbiAgICB1c2VybmFtZTogXCJnYWJpbi5kdWJvdXJnXCIsXHJcbiAgICBwYXNzd29yZDogXCI0XCIsXHJcbiAgICBuYW1lOiBcIkdhYmluIER1Ym91cmdcIixcclxuICAgIGVtYWlsOiBcImdhYmluLmR1Ym91cmdAc3RpcndlbGQuY29tXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogXCI1XCIsXHJcbiAgICB1c2VybmFtZTogXCJnYWJpbi52aWdvclwiLFxyXG4gICAgcGFzc3dvcmQ6IFwiNVwiLFxyXG4gICAgbmFtZTogXCJHYWJpbiBWaWdvclwiLFxyXG4gICAgZW1haWw6IFwiZ2FiaW4udmlnb3JAc3RpcndlbGQuY29tXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE5leHRBdXRoKHtcclxuICBwcm92aWRlcnM6IFtcclxuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xyXG4gICAgICBuYW1lOiBcIkNyZWRlbnRpYWxzXCIsXHJcbiAgICAgIGNyZWRlbnRpYWxzOiB7XHJcbiAgICAgICAgdXNlcm5hbWU6IHsgbGFiZWw6IFwiVXRpbGlzYXRldXJcIiwgdHlwZTogXCJ0ZXh0XCIgfSxcclxuICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogXCJNb3QgZGUgcGFzc2VcIiwgdHlwZTogXCJwYXNzd29yZFwiIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xyXG4gICAgICAgIC8vIFbDqXJpZmllIHVzZXJuYW1lICsgcGFzc3dvcmRcclxuICAgICAgICBjb25zdCB1c2VyID0gVVNFUlMuZmluZChcclxuICAgICAgICAgICh1KSA9PlxyXG4gICAgICAgICAgICB1LnVzZXJuYW1lID09PSBjcmVkZW50aWFscy51c2VybmFtZSAmJlxyXG4gICAgICAgICAgICB1LnBhc3N3b3JkID09PSBjcmVkZW50aWFscy5wYXNzd29yZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAgIC8vIFJldG91cm5lIGzigJlvYmpldCBzZXNzaW9uIGF2ZWMgbOKAmWVtYWlsXHJcbiAgICAgICAgICByZXR1cm4geyBpZDogdXNlci5pZCwgbmFtZTogdXNlci5uYW1lLCBlbWFpbDogdXNlci5lbWFpbCwgaW1hZ2U6IG51bGwgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH0sXHJcbiAgICB9KSxcclxuICBdLFxyXG5cclxuICBzZXNzaW9uOiB7XHJcbiAgICBzdHJhdGVneTogXCJqd3RcIiwgLy8gb24gdXRpbGlzZSBsZSBKV1QgcG91ciBwcm9wYWdlciBs4oCZZW1haWxcclxuICB9LFxyXG5cclxuICBjYWxsYmFja3M6IHtcclxuICAgIC8vIEFqb3V0ZSBuYW1lIGV0IGVtYWlsIGRhbnMgbGUgdG9rZW4gSldUXHJcbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciB9KSB7XHJcbiAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgdG9rZW4ubmFtZSA9IHVzZXIubmFtZTtcclxuICAgICAgICB0b2tlbi5lbWFpbCA9IHVzZXIuZW1haWw7XHJcbiAgICAgICAgdG9rZW4uaW1hZ2UgPSB1c2VyLmltYWdlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0sXHJcbiAgICAvLyBSZW5kIG5hbWUgZXQgZW1haWwgZGlzcG9uaWJsZXMgZGFucyBzZXNzaW9uLnVzZXIgY8O0dMOpIGNsaWVudFxyXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcclxuICAgICAgc2Vzc2lvbi51c2VyLm5hbWUgPSB0b2tlbi5uYW1lO1xyXG4gICAgICBzZXNzaW9uLnVzZXIuZW1haWwgPSB0b2tlbi5lbWFpbDtcclxuICAgICAgc2Vzc2lvbi51c2VyLmltYWdlID0gdG9rZW4uaW1hZ2U7XHJcbiAgICAgIHJldHVybiBzZXNzaW9uO1xyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICBzZWNyZXQ6IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCxcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJOZXh0QXV0aCIsIkNyZWRlbnRpYWxzUHJvdmlkZXIiLCJVU0VSUyIsImlkIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIm5hbWUiLCJlbWFpbCIsInByb3ZpZGVycyIsImNyZWRlbnRpYWxzIiwibGFiZWwiLCJ0eXBlIiwiYXV0aG9yaXplIiwidXNlciIsImZpbmQiLCJ1IiwiaW1hZ2UiLCJzZXNzaW9uIiwic3RyYXRlZ3kiLCJjYWxsYmFja3MiLCJqd3QiLCJ0b2tlbiIsInNlY3JldCIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9TRUNSRVQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/auth/[...nextauth].js\n");

/***/ }),

/***/ "(api-node)/./pages/api/commandes.js":
/*!********************************!*\
  !*** ./pages/api/commandes.js ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var formidable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! formidable */ \"formidable\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next-auth/next */ \"next-auth/next\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_auth_next__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _auth_nextauth___WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./auth/[...nextauth] */ \"(api-node)/./pages/api/auth/[...nextauth].js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([formidable__WEBPACK_IMPORTED_MODULE_2__, uuid__WEBPACK_IMPORTED_MODULE_4__]);\n([formidable__WEBPACK_IMPORTED_MODULE_2__, uuid__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// pages/api/commandes.js\n\n\n\n\n\n\n\n\nconst DATA_PATH = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"commandes.json\");\nconst UPLOAD_DIR = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"public\", \"uploads\");\nconst HISTORY_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"stockHistory.json\");\n// Helper pour lire/écrire le JSON\nasync function readCommandes() {\n    try {\n        const raw = await fs__WEBPACK_IMPORTED_MODULE_0__.promises.readFile(DATA_PATH, \"utf8\");\n        const arr = JSON.parse(raw);\n        return arr.map((c)=>({\n                messages: c.messages || [],\n                statut: c.statut || \"En cours\",\n                comment: c.comment || null,\n                creatorEmail: c.creatorEmail || null,\n                ...c\n            }));\n    } catch  {\n        return [];\n    }\n}\nasync function writeCommandes(data) {\n    await fs__WEBPACK_IMPORTED_MODULE_0__.promises.mkdir(path__WEBPACK_IMPORTED_MODULE_1___default().dirname(DATA_PATH), {\n        recursive: true\n    });\n    await fs__WEBPACK_IMPORTED_MODULE_0__.promises.writeFile(DATA_PATH, JSON.stringify(data, null, 2));\n}\n// Helper pour journaliser les modifications (ordre)\nasync function appendHistory(entry) {\n    try {\n        const content = await fs__WEBPACK_IMPORTED_MODULE_0__.promises.readFile(HISTORY_FILE, \"utf8\").catch(()=>\"[]\");\n        const history = JSON.parse(content);\n        history.push(entry);\n        await fs__WEBPACK_IMPORTED_MODULE_0__.promises.mkdir(path__WEBPACK_IMPORTED_MODULE_1___default().dirname(HISTORY_FILE), {\n            recursive: true\n        });\n        await fs__WEBPACK_IMPORTED_MODULE_0__.promises.writeFile(HISTORY_FILE, JSON.stringify(history, null, 2));\n    } catch (e) {\n        console.error(\"Erreur écriture historique :\", e);\n    }\n}\n// Désactive le bodyParser intégré (pour formidable POST)\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\n// Pour récupérer le body brut en PUT\nfunction getRawBody(req) {\n    return new Promise((resolve, reject)=>{\n        let buf = \"\";\n        req.on(\"data\", (chunk)=>buf += chunk);\n        req.on(\"end\", ()=>resolve(buf));\n        req.on(\"error\", (err)=>reject(err));\n    });\n}\n// Configure Nodemailer\nconst transporter = nodemailer__WEBPACK_IMPORTED_MODULE_3___default().createTransport({\n    host: \"smtp.gmail.com\",\n    port: 465,\n    secure: true,\n    auth: {\n        user: process.env.SMTP_USER,\n        pass: process.env.SMTP_PASSWORD\n    }\n});\ntransporter.verify().then(()=>console.log(\"✅ SMTP prêt à envoyer\")).catch((err)=>console.error(\"❌ Erreur SMTP:\", err));\nasync function handler(req, res) {\n    // 1) Authentification\n    const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_5__.getServerSession)(req, res, _auth_nextauth___WEBPACK_IMPORTED_MODULE_6__.authOptions);\n    if (!session) {\n        return res.status(401).json({\n            error: \"Non authentifié\"\n        });\n    }\n    const userName = session.user.name;\n    const userEmail = session.user.email;\n    // 2) Charger les commandes\n    const commandes = await readCommandes();\n    // === GET : renvoyer toutes ===\n    if (req.method === \"GET\") {\n        return res.status(200).json(commandes);\n    }\n    // === POST : création + upload PDF ===\n    if (req.method === \"POST\") {\n        await fs__WEBPACK_IMPORTED_MODULE_0__.promises.mkdir(UPLOAD_DIR, {\n            recursive: true\n        });\n        const form = (0,formidable__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            uploadDir: UPLOAD_DIR,\n            keepExtensions: true\n        });\n        form.parse(req, async (err, fields, files)=>{\n            if (err) return res.status(500).send(err.message);\n            const f = Array.isArray(files.file) ? files.file[0] : files.file;\n            const url = `/uploads/${f.newFilename}`;\n            const cmd = {\n                id: Date.now().toString(),\n                filename: f.originalFilename,\n                url,\n                statut: \"En cours\",\n                createdAt: new Date().toISOString(),\n                creator: userName,\n                creatorEmail: userEmail,\n                comment: null,\n                messages: []\n            };\n            commandes.push(cmd);\n            await writeCommandes(commandes);\n            res.status(201).json(cmd);\n        });\n        return;\n    }\n    // === PUT : mise à jour statut/comment/chat + mail + audit ===\n    if (req.method === \"PUT\") {\n        try {\n            const raw = await getRawBody(req);\n            const { id, statut, comment, newMessage } = JSON.parse(raw);\n            const idx = commandes.findIndex((c)=>c.id === id);\n            if (idx === -1) {\n                return res.status(404).send(\"Commande introuvable\");\n            }\n            // Sauvegarde de l'ancien statut pour l'audit\n            const oldStatut = commandes[idx].statut;\n            // Mise à jour mémoire\n            commandes[idx].statut = statut;\n            if (statut === \"Partiellement reçue\" && comment) {\n                commandes[idx].comment = comment;\n            }\n            if (newMessage) {\n                commandes[idx].messages.push({\n                    from: newMessage.from,\n                    text: newMessage.text,\n                    at: newMessage.at\n                });\n            }\n            // Journaliser le changement de statut\n            await appendHistory({\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__.v4)(),\n                type: 'order_update',\n                orderId: id,\n                oldStatus: oldStatut,\n                newStatus: statut,\n                user: userName,\n                timestamp: new Date().toISOString()\n            });\n            // Envoi email si reçue\n            const recipient = commandes[idx].creatorEmail || _auth_nextauth___WEBPACK_IMPORTED_MODULE_6__.USERS.find((u)=>u.name === commandes[idx].creator)?.email;\n            if (statut === \"Reçue\" && recipient) {\n                transporter.sendMail({\n                    from: `\"Stock App\" <${process.env.SMTP_USER}>`,\n                    to: recipient,\n                    subject: `✅ Votre commande \"${commandes[idx].filename}\" est reçue`,\n                    text: `Bonjour ${commandes[idx].creator},\\n\\nVotre commande \"${commandes[idx].filename}\" est maintenant marquée \\\"Reçue\\\".\\n\\nBonne journée !`\n                }).then(()=>console.log(\"Mail envoyé ✔️\")).catch((err)=>console.error(\"Erreur SMTP, on continue :\", err));\n            }\n            // Persister modifications\n            await writeCommandes(commandes);\n            return res.status(200).json(commandes[idx]);\n        } catch (err) {\n            console.error(\"Erreur PUT /api/commandes :\", err);\n            return res.status(400).send(\"JSON invalide ou erreur interne\");\n        }\n    }\n    // === DELETE ===\n    if (req.method === \"DELETE\") {\n        const { id } = req.query;\n        const i = commandes.findIndex((c)=>c.id === id);\n        if (i === -1) return res.status(404).send(\"Commande introuvable\");\n        const toDelete = commandes[i];\n        await fs__WEBPACK_IMPORTED_MODULE_0__.promises.unlink(path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), 'public', toDelete.url));\n        commandes.splice(i, 1);\n        await writeCommandes(commandes);\n        return res.status(204).end();\n    }\n    res.setHeader('Allow', [\n        'GET',\n        'POST',\n        'PUT',\n        'DELETE'\n    ]);\n    return res.status(405).end();\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WmIsUUFBUUMsS0FBSyxDQUFDLCtCQUErQlk7WUFDN0MsT0FBT2dCLElBQUlFLE1BQU0sQ0FBQyxLQUFLYSxJQUFJLENBQUM7UUFDOUI7SUFDRjtJQUVBLGlCQUFpQjtJQUNqQixJQUFJdEMsSUFBSWdDLE1BQU0sS0FBSyxVQUFVO1FBQzNCLE1BQU0sRUFBRWUsRUFBRSxFQUFFLEdBQUcvQyxJQUFJMEUsS0FBSztRQUN4QixNQUFNQyxJQUFJNUMsVUFBVTJCLFNBQVMsQ0FBQ25GLENBQUFBLElBQUtBLEVBQUV3RSxFQUFFLEtBQUtBO1FBQzVDLElBQUk0QixNQUFNLENBQUMsR0FBRyxPQUFPcEQsSUFBSUUsTUFBTSxDQUFDLEtBQUthLElBQUksQ0FBQztRQUUxQyxNQUFNc0MsV0FBVzdDLFNBQVMsQ0FBQzRDLEVBQUU7UUFDN0IsTUFBTTFILHdDQUFFQSxDQUFDNEgsTUFBTSxDQUFDM0gsZ0RBQVMsQ0FBQ1UsUUFBUUMsR0FBRyxJQUFJLFVBQVUrRyxTQUFTaEMsR0FBRztRQUMvRGIsVUFBVStDLE1BQU0sQ0FBQ0gsR0FBRTtRQUNuQixNQUFNL0YsZUFBZW1EO1FBQ3JCLE9BQU9SLElBQUlFLE1BQU0sQ0FBQyxLQUFLc0QsR0FBRztJQUM1QjtJQUVBeEQsSUFBSXlELFNBQVMsQ0FBQyxTQUFRO1FBQUM7UUFBTTtRQUFPO1FBQU07S0FBUztJQUNuRCxPQUFPekQsSUFBSUUsTUFBTSxDQUFDLEtBQUtzRCxHQUFHO0FBQzVCIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXE5pbm9NYXJxdWV0LVN0aXJ3ZWxkXFxEb2N1bWVudHNcXGdlc3Rpb24tc3RvY2stYXBwXFxwYWdlc1xcYXBpXFxjb21tYW5kZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcGFnZXMvYXBpL2NvbW1hbmRlcy5qc1xyXG5pbXBvcnQgeyBwcm9taXNlcyBhcyBmcyB9IGZyb20gXCJmc1wiO1xyXG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xyXG5pbXBvcnQgZm9ybWlkYWJsZSBmcm9tIFwiZm9ybWlkYWJsZVwiO1xyXG5pbXBvcnQgbm9kZW1haWxlciBmcm9tIFwibm9kZW1haWxlclwiO1xyXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tIFwidXVpZFwiO1xyXG5pbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSBcIm5leHQtYXV0aC9uZXh0XCI7XHJcbmltcG9ydCB7IGF1dGhPcHRpb25zIH0gZnJvbSBcIi4vYXV0aC9bLi4ubmV4dGF1dGhdXCI7XHJcbmltcG9ydCB7IFVTRVJTIH0gZnJvbSBcIi4vYXV0aC9bLi4ubmV4dGF1dGhdXCI7XHJcblxyXG5jb25zdCBEQVRBX1BBVEggICA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCBcImRhdGFcIiwgXCJjb21tYW5kZXMuanNvblwiKTtcclxuY29uc3QgVVBMT0FEX0RJUiAgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgXCJwdWJsaWNcIiwgXCJ1cGxvYWRzXCIpO1xyXG5jb25zdCBISVNUT1JZX0ZJTEUgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgXCJkYXRhXCIsIFwic3RvY2tIaXN0b3J5Lmpzb25cIik7XHJcblxyXG4vLyBIZWxwZXIgcG91ciBsaXJlL8OpY3JpcmUgbGUgSlNPTlxyXG5hc3luYyBmdW5jdGlvbiByZWFkQ29tbWFuZGVzKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByYXcgPSBhd2FpdCBmcy5yZWFkRmlsZShEQVRBX1BBVEgsIFwidXRmOFwiKTtcclxuICAgIGNvbnN0IGFyciA9IEpTT04ucGFyc2UocmF3KTtcclxuICAgIHJldHVybiBhcnIubWFwKGMgPT4gKHtcclxuICAgICAgbWVzc2FnZXM6ICAgICBjLm1lc3NhZ2VzIHx8IFtdLFxyXG4gICAgICBzdGF0dXQ6ICAgICAgIGMuc3RhdHV0ICAgfHwgXCJFbiBjb3Vyc1wiLFxyXG4gICAgICBjb21tZW50OiAgICAgIGMuY29tbWVudCAgfHwgbnVsbCxcclxuICAgICAgY3JlYXRvckVtYWlsOiBjLmNyZWF0b3JFbWFpbCB8fCBudWxsLFxyXG4gICAgICAuLi5jXHJcbiAgICB9KSk7XHJcbiAgfSBjYXRjaCB7XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB3cml0ZUNvbW1hbmRlcyhkYXRhKSB7XHJcbiAgYXdhaXQgZnMubWtkaXIocGF0aC5kaXJuYW1lKERBVEFfUEFUSCksIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG4gIGF3YWl0IGZzLndyaXRlRmlsZShEQVRBX1BBVEgsIEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpKTtcclxufVxyXG5cclxuLy8gSGVscGVyIHBvdXIgam91cm5hbGlzZXIgbGVzIG1vZGlmaWNhdGlvbnMgKG9yZHJlKVxyXG5hc3luYyBmdW5jdGlvbiBhcHBlbmRIaXN0b3J5KGVudHJ5KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBmcy5yZWFkRmlsZShISVNUT1JZX0ZJTEUsIFwidXRmOFwiKS5jYXRjaCgoKSA9PiBcIltdXCIpO1xyXG4gICAgY29uc3QgaGlzdG9yeSA9IEpTT04ucGFyc2UoY29udGVudCk7XHJcbiAgICBoaXN0b3J5LnB1c2goZW50cnkpO1xyXG4gICAgYXdhaXQgZnMubWtkaXIocGF0aC5kaXJuYW1lKEhJU1RPUllfRklMRSksIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xyXG4gICAgYXdhaXQgZnMud3JpdGVGaWxlKEhJU1RPUllfRklMRSwgSlNPTi5zdHJpbmdpZnkoaGlzdG9yeSwgbnVsbCwgMikpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJldXIgw6ljcml0dXJlIGhpc3RvcmlxdWUgOlwiLCBlKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIETDqXNhY3RpdmUgbGUgYm9keVBhcnNlciBpbnTDqWdyw6kgKHBvdXIgZm9ybWlkYWJsZSBQT1NUKVxyXG5leHBvcnQgY29uc3QgY29uZmlnID0geyBhcGk6IHsgYm9keVBhcnNlcjogZmFsc2UgfSB9O1xyXG5cclxuLy8gUG91ciByw6ljdXDDqXJlciBsZSBib2R5IGJydXQgZW4gUFVUXHJcbmZ1bmN0aW9uIGdldFJhd0JvZHkocmVxKSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGxldCBidWYgPSBcIlwiO1xyXG4gICAgcmVxLm9uKFwiZGF0YVwiLCBjaHVuayA9PiAoYnVmICs9IGNodW5rKSk7XHJcbiAgICByZXEub24oXCJlbmRcIiwgKCkgPT4gcmVzb2x2ZShidWYpKTtcclxuICAgIHJlcS5vbihcImVycm9yXCIsIGVyciA9PiByZWplY3QoZXJyKSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vIENvbmZpZ3VyZSBOb2RlbWFpbGVyXHJcbmNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gIGhvc3Q6ICAgXCJzbXRwLmdtYWlsLmNvbVwiLFxyXG4gIHBvcnQ6ICAgNDY1LFxyXG4gIHNlY3VyZTogdHJ1ZSxcclxuICBhdXRoOiB7XHJcbiAgICB1c2VyOiBwcm9jZXNzLmVudi5TTVRQX1VTRVIsXHJcbiAgICBwYXNzOiBwcm9jZXNzLmVudi5TTVRQX1BBU1NXT1JELFxyXG4gIH0sXHJcbn0pO1xyXG5cclxudHJhbnNwb3J0ZXIudmVyaWZ5KClcclxuICAudGhlbigoKSA9PiBjb25zb2xlLmxvZyhcIuKchSBTTVRQIHByw6p0IMOgIGVudm95ZXJcIikpXHJcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKFwi4p2MIEVycmV1ciBTTVRQOlwiLCBlcnIpKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICAvLyAxKSBBdXRoZW50aWZpY2F0aW9uXHJcbiAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24ocmVxLCByZXMsIGF1dGhPcHRpb25zKTtcclxuICBpZiAoIXNlc3Npb24pIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiBcIk5vbiBhdXRoZW50aWZpw6lcIiB9KTtcclxuICB9XHJcbiAgY29uc3QgdXNlck5hbWUgID0gc2Vzc2lvbi51c2VyLm5hbWU7XHJcbiAgY29uc3QgdXNlckVtYWlsID0gc2Vzc2lvbi51c2VyLmVtYWlsO1xyXG5cclxuICAvLyAyKSBDaGFyZ2VyIGxlcyBjb21tYW5kZXNcclxuICBjb25zdCBjb21tYW5kZXMgPSBhd2FpdCByZWFkQ29tbWFuZGVzKCk7XHJcblxyXG4gIC8vID09PSBHRVQgOiByZW52b3llciB0b3V0ZXMgPT09XHJcbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiR0VUXCIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihjb21tYW5kZXMpO1xyXG4gIH1cclxuXHJcbiAgLy8gPT09IFBPU1QgOiBjcsOpYXRpb24gKyB1cGxvYWQgUERGID09PVxyXG4gIGlmIChyZXEubWV0aG9kID09PSBcIlBPU1RcIikge1xyXG4gICAgYXdhaXQgZnMubWtkaXIoVVBMT0FEX0RJUiwgeyByZWN1cnNpdmU6IHRydWUgfSk7XHJcbiAgICBjb25zdCBmb3JtID0gZm9ybWlkYWJsZSh7IHVwbG9hZERpcjogVVBMT0FEX0RJUiwga2VlcEV4dGVuc2lvbnM6IHRydWUgfSk7XHJcbiAgICBmb3JtLnBhcnNlKHJlcSwgYXN5bmMgKGVyciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICBpZiAoZXJyKSByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZXJyLm1lc3NhZ2UpO1xyXG5cclxuICAgICAgY29uc3QgZiAgID0gQXJyYXkuaXNBcnJheShmaWxlcy5maWxlKSA/IGZpbGVzLmZpbGVbMF0gOiBmaWxlcy5maWxlO1xyXG4gICAgICBjb25zdCB1cmwgPSBgL3VwbG9hZHMvJHtmLm5ld0ZpbGVuYW1lfWA7XHJcblxyXG4gICAgICBjb25zdCBjbWQgPSB7XHJcbiAgICAgICAgaWQ6ICAgICAgICAgICBEYXRlLm5vdygpLnRvU3RyaW5nKCksXHJcbiAgICAgICAgZmlsZW5hbWU6ICAgICBmLm9yaWdpbmFsRmlsZW5hbWUsXHJcbiAgICAgICAgdXJsLFxyXG4gICAgICAgIHN0YXR1dDogICAgICAgXCJFbiBjb3Vyc1wiLFxyXG4gICAgICAgIGNyZWF0ZWRBdDogICAgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIGNyZWF0b3I6ICAgICAgdXNlck5hbWUsXHJcbiAgICAgICAgY3JlYXRvckVtYWlsOiB1c2VyRW1haWwsXHJcbiAgICAgICAgY29tbWVudDogICAgICBudWxsLFxyXG4gICAgICAgIG1lc3NhZ2VzOiAgICAgW10sXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb21tYW5kZXMucHVzaChjbWQpO1xyXG4gICAgICBhd2FpdCB3cml0ZUNvbW1hbmRlcyhjb21tYW5kZXMpO1xyXG4gICAgICByZXMuc3RhdHVzKDIwMSkuanNvbihjbWQpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gUFVUIDogbWlzZSDDoCBqb3VyIHN0YXR1dC9jb21tZW50L2NoYXQgKyBtYWlsICsgYXVkaXQgPT09XHJcbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiUFVUXCIpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJhdyA9IGF3YWl0IGdldFJhd0JvZHkocmVxKTtcclxuICAgICAgY29uc3QgeyBpZCwgc3RhdHV0LCBjb21tZW50LCBuZXdNZXNzYWdlIH0gPSBKU09OLnBhcnNlKHJhdyk7XHJcblxyXG4gICAgICBjb25zdCBpZHggPSBjb21tYW5kZXMuZmluZEluZGV4KGMgPT4gYy5pZCA9PT0gaWQpO1xyXG4gICAgICBpZiAoaWR4ID09PSAtMSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZChcIkNvbW1hbmRlIGludHJvdXZhYmxlXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTYXV2ZWdhcmRlIGRlIGwnYW5jaWVuIHN0YXR1dCBwb3VyIGwnYXVkaXRcclxuICAgICAgY29uc3Qgb2xkU3RhdHV0ID0gY29tbWFuZGVzW2lkeF0uc3RhdHV0O1xyXG5cclxuICAgICAgLy8gTWlzZSDDoCBqb3VyIG3DqW1vaXJlXHJcbiAgICAgIGNvbW1hbmRlc1tpZHhdLnN0YXR1dCA9IHN0YXR1dDtcclxuICAgICAgaWYgKHN0YXR1dCA9PT0gXCJQYXJ0aWVsbGVtZW50IHJlw6d1ZVwiICYmIGNvbW1lbnQpIHtcclxuICAgICAgICBjb21tYW5kZXNbaWR4XS5jb21tZW50ID0gY29tbWVudDtcclxuICAgICAgfVxyXG4gICAgICBpZiAobmV3TWVzc2FnZSkge1xyXG4gICAgICAgIGNvbW1hbmRlc1tpZHhdLm1lc3NhZ2VzLnB1c2goe1xyXG4gICAgICAgICAgZnJvbTogbmV3TWVzc2FnZS5mcm9tLFxyXG4gICAgICAgICAgdGV4dDogbmV3TWVzc2FnZS50ZXh0LFxyXG4gICAgICAgICAgYXQ6ICAgbmV3TWVzc2FnZS5hdCxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSm91cm5hbGlzZXIgbGUgY2hhbmdlbWVudCBkZSBzdGF0dXRcclxuICAgICAgYXdhaXQgYXBwZW5kSGlzdG9yeSh7XHJcbiAgICAgICAgaWQ6ICAgICAgICB1dWlkdjQoKSxcclxuICAgICAgICB0eXBlOiAgICAgICdvcmRlcl91cGRhdGUnLFxyXG4gICAgICAgIG9yZGVySWQ6ICAgaWQsXHJcbiAgICAgICAgb2xkU3RhdHVzOiBvbGRTdGF0dXQsXHJcbiAgICAgICAgbmV3U3RhdHVzOiBzdGF0dXQsXHJcbiAgICAgICAgdXNlcjogICAgICB1c2VyTmFtZSxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBFbnZvaSBlbWFpbCBzaSByZcOndWVcclxuICAgICAgY29uc3QgcmVjaXBpZW50ID0gY29tbWFuZGVzW2lkeF0uY3JlYXRvckVtYWlsIHx8IFxyXG4gICAgICAgIFVTRVJTLmZpbmQodSA9PiB1Lm5hbWUgPT09IGNvbW1hbmRlc1tpZHhdLmNyZWF0b3IpPy5lbWFpbDtcclxuICAgICAgaWYgKHN0YXR1dCA9PT0gXCJSZcOndWVcIiAmJiByZWNpcGllbnQpIHtcclxuICAgICAgICB0cmFuc3BvcnRlci5zZW5kTWFpbCh7XHJcbiAgICAgICAgICBmcm9tOiAgICBgXCJTdG9jayBBcHBcIiA8JHtwcm9jZXNzLmVudi5TTVRQX1VTRVJ9PmAsXHJcbiAgICAgICAgICB0bzogICAgICByZWNpcGllbnQsXHJcbiAgICAgICAgICBzdWJqZWN0OiBg4pyFIFZvdHJlIGNvbW1hbmRlIFwiJHtjb21tYW5kZXNbaWR4XS5maWxlbmFtZX1cIiBlc3QgcmXDp3VlYCxcclxuICAgICAgICAgIHRleHQ6ICAgIGBCb25qb3VyICR7Y29tbWFuZGVzW2lkeF0uY3JlYXRvcn0sXFxuXFxuVm90cmUgY29tbWFuZGUgXCIke2NvbW1hbmRlc1tpZHhdLmZpbGVuYW1lfVwiIGVzdCBtYWludGVuYW50IG1hcnF1w6llIFxcXCJSZcOndWVcXFwiLlxcblxcbkJvbm5lIGpvdXJuw6llICFgLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coXCJNYWlsIGVudm95w6kg4pyU77iPXCIpKVxyXG4gICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihcIkVycmV1ciBTTVRQLCBvbiBjb250aW51ZSA6XCIsIGVycikpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQZXJzaXN0ZXIgbW9kaWZpY2F0aW9uc1xyXG4gICAgICBhd2FpdCB3cml0ZUNvbW1hbmRlcyhjb21tYW5kZXMpO1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oY29tbWFuZGVzW2lkeF0pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJldXIgUFVUIC9hcGkvY29tbWFuZGVzIDpcIiwgZXJyKTtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKFwiSlNPTiBpbnZhbGlkZSBvdSBlcnJldXIgaW50ZXJuZVwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vID09PSBERUxFVEUgPT09XHJcbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiREVMRVRFXCIpIHtcclxuICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5xdWVyeTtcclxuICAgIGNvbnN0IGkgPSBjb21tYW5kZXMuZmluZEluZGV4KGMgPT4gYy5pZCA9PT0gaWQpO1xyXG4gICAgaWYgKGkgPT09IC0xKSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoXCJDb21tYW5kZSBpbnRyb3V2YWJsZVwiKTtcclxuXHJcbiAgICBjb25zdCB0b0RlbGV0ZSA9IGNvbW1hbmRlc1tpXTtcclxuICAgIGF3YWl0IGZzLnVubGluayhwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYycsIHRvRGVsZXRlLnVybCkpO1xyXG4gICAgY29tbWFuZGVzLnNwbGljZShpLDEpO1xyXG4gICAgYXdhaXQgd3JpdGVDb21tYW5kZXMoY29tbWFuZGVzKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwNCkuZW5kKCk7XHJcbiAgfVxyXG5cclxuICByZXMuc2V0SGVhZGVyKCdBbGxvdycsWydHRVQnLCdQT1NUJywnUFVUJywnREVMRVRFJ10pO1xyXG4gIHJldHVybiByZXMuc3RhdHVzKDQwNSkuZW5kKCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInByb21pc2VzIiwiZnMiLCJwYXRoIiwiZm9ybWlkYWJsZSIsIm5vZGVtYWlsZXIiLCJ2NCIsInV1aWR2NCIsImdldFNlcnZlclNlc3Npb24iLCJhdXRoT3B0aW9ucyIsIlVTRVJTIiwiREFUQV9QQVRIIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJVUExPQURfRElSIiwiSElTVE9SWV9GSUxFIiwicmVhZENvbW1hbmRlcyIsInJhdyIsInJlYWRGaWxlIiwiYXJyIiwiSlNPTiIsInBhcnNlIiwibWFwIiwiYyIsIm1lc3NhZ2VzIiwic3RhdHV0IiwiY29tbWVudCIsImNyZWF0b3JFbWFpbCIsIndyaXRlQ29tbWFuZGVzIiwiZGF0YSIsIm1rZGlyIiwiZGlybmFtZSIsInJlY3Vyc2l2ZSIsIndyaXRlRmlsZSIsInN0cmluZ2lmeSIsImFwcGVuZEhpc3RvcnkiLCJlbnRyeSIsImNvbnRlbnQiLCJjYXRjaCIsImhpc3RvcnkiLCJwdXNoIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsImNvbmZpZyIsImFwaSIsImJvZHlQYXJzZXIiLCJnZXRSYXdCb2R5IiwicmVxIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJidWYiLCJvbiIsImNodW5rIiwiZXJyIiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicG9ydCIsInNlY3VyZSIsImF1dGgiLCJ1c2VyIiwiZW52IiwiU01UUF9VU0VSIiwicGFzcyIsIlNNVFBfUEFTU1dPUkQiLCJ2ZXJpZnkiLCJ0aGVuIiwibG9nIiwiaGFuZGxlciIsInJlcyIsInNlc3Npb24iLCJzdGF0dXMiLCJqc29uIiwidXNlck5hbWUiLCJuYW1lIiwidXNlckVtYWlsIiwiZW1haWwiLCJjb21tYW5kZXMiLCJtZXRob2QiLCJmb3JtIiwidXBsb2FkRGlyIiwia2VlcEV4dGVuc2lvbnMiLCJmaWVsZHMiLCJmaWxlcyIsInNlbmQiLCJtZXNzYWdlIiwiZiIsIkFycmF5IiwiaXNBcnJheSIsImZpbGUiLCJ1cmwiLCJuZXdGaWxlbmFtZSIsImNtZCIsImlkIiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwiZmlsZW5hbWUiLCJvcmlnaW5hbEZpbGVuYW1lIiwiY3JlYXRlZEF0IiwidG9JU09TdHJpbmciLCJjcmVhdG9yIiwibmV3TWVzc2FnZSIsImlkeCIsImZpbmRJbmRleCIsIm9sZFN0YXR1dCIsImZyb20iLCJ0ZXh0IiwiYXQiLCJ0eXBlIiwib3JkZXJJZCIsIm9sZFN0YXR1cyIsIm5ld1N0YXR1cyIsInRpbWVzdGFtcCIsInJlY2lwaWVudCIsImZpbmQiLCJ1Iiwic2VuZE1haWwiLCJ0byIsInN1YmplY3QiLCJxdWVyeSIsImkiLCJ0b0RlbGV0ZSIsInVubGluayIsInNwbGljZSIsImVuZCIsInNldEhlYWRlciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/commandes.js\n");

/***/ }),

/***/ "formidable":
/*!*****************************!*\
  !*** external "formidable" ***!
  \*****************************/
/***/ ((module) => {

module.exports = import("formidable");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/next":
/*!*********************************!*\
  !*** external "next-auth/next" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("next-auth/next");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

module.exports = import("uuid");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcommandes&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ccommandes.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();