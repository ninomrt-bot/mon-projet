(()=>{var e={};e.id=636,e.ids=[636],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},2015:e=>{"use strict";e.exports=require("react")},2326:e=>{"use strict";e.exports=require("react-dom")},2768:()=>{},4075:e=>{"use strict";e.exports=require("zlib")},4078:e=>{"use strict";e.exports=import("swr")},4722:e=>{"use strict";e.exports=require("next-auth/react")},5280:(e,r,s)=>{"use strict";s.a(e,async(e,t)=>{try{s.r(r),s.d(r,{default:()=>h});var a=s(8732);s(2768);var i=s(2015),n=s(4722),c=s(9918),l=s.n(c),o=s(4233),x=s(7665),u=s(9875),d=e([u]);function m(){let{data:e}=(0,n.useSession)(),r=(0,o.useRouter)(),s=(0,u.A)(),t="/login"===r.pathname,[c,d]=(0,i.useState)(!1),m=e?.user?.image||null,h=e?.user?.name||"";return(0,a.jsxs)("header",{className:"flex items-center justify-between bg-gray-100 p-4 shadow",children:[(0,a.jsx)(l(),{href:"/",children:(0,a.jsx)("img",{src:"/logo_stirweld.png",alt:"Logo Stirweld",className:"h-20 w-auto cursor-pointer"})}),!t&&(0,a.jsxs)("nav",{className:"flex items-center gap-6",children:[(0,a.jsx)(l(),{href:"/stock",className:"text-gray-700 hover:text-gray-900",children:"Stock"}),(0,a.jsx)(l(),{href:"/commandes",className:"text-gray-700 hover:text-gray-900",children:"Commandes"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l(),{href:"/alertes",className:"text-gray-700 hover:text-gray-900",children:"Alertes"}),s>0&&(0,a.jsx)("span",{className:"   absolute -top-3 -right-3   h-5 min-w-[20px] px-1   bg-red-600 text-white text-xs font-semibold   rounded-full flex items-center justify-center   ",children:s})]}),(0,a.jsx)(l(),{href:"/history",className:"text-gray-700 hover:text-gray-900",children:"Historique"}),(0,a.jsx)(l(),{href:"/projects",className:"text-gray-700 hover:text-gray-900",children:"Produits"}),(0,a.jsx)(l(),{href:"/projects-asana",className:"text-gray-700 hover:text-gray-900",children:"Asana"}),e?.user?(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1 relative",children:[m?(0,a.jsx)("img",{src:m,alt:h,onClick:()=>d(!0),className:"h-10 w-10 rounded-full object-cover cursor-pointer border-2 border-gray-300"}):(0,a.jsx)(x.A,{className:"h-10 w-10 text-gray-400 cursor-pointer",onClick:()=>d(!0)}),(0,a.jsx)("span",{className:"text-gray-800 font-medium text-sm",children:h})]}):(0,a.jsx)(l(),{href:"/login",className:"text-blue-600 hover:underline",children:"Connexion"})]}),c&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded shadow-lg max-w-xs text-center",children:[(0,a.jsx)("p",{className:"mb-4",children:"Voulez-vous vraiment vous d\xe9connecter ?"}),(0,a.jsxs)("div",{className:"flex justify-around",children:[(0,a.jsx)("button",{onClick:()=>{d(!1),(0,n.signOut)({callbackUrl:`${window.location.origin}/login`})},className:"px-4 py-1 bg-red-600 text-white rounded",children:"Oui"}),(0,a.jsx)("button",{onClick:()=>d(!1),className:"px-4 py-1 bg-gray-300 rounded",children:"Non"})]})]})})]})}function h({Component:e,pageProps:{session:r,...s}}){return(0,a.jsxs)(n.SessionProvider,{session:r,children:[(0,a.jsx)(m,{}),(0,a.jsx)("main",{className:"p-4",children:(0,a.jsx)(e,{...s})})]})}u=(d.then?(await d)():d)[0],t()}catch(e){t(e)}})},7910:e=>{"use strict";e.exports=require("stream")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9021:e=>{"use strict";e.exports=require("fs")},9875:(e,r,s)=>{"use strict";s.a(e,async(e,t)=>{try{s.d(r,{A:()=>n});var a=s(4078),i=e([a]);a=(i.then?(await i)():i)[0];let c=e=>fetch(e).then(e=>e.json());function n(){let{data:e,error:r}=(0,a.default)("/api/stock",c);return r||!Array.isArray(e)?0:e.filter(e=>Number(e["Qte stock"]||0)+Number(e["En Commande"]||0)<Number(e["Qte mini"]||0)).length}t()}catch(e){t(e)}})}};var r=require("../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[89,172],()=>s(5280));module.exports=t})();