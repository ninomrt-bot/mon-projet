exports.id=474,exports.ids=[474],exports.modules={237:(e,t)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return n}});var n=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},609:(e,t)=>{"use strict";function n(e){let{ampFirst:t=!1,hybrid:n=!1,hasQuery:r=!1}=void 0===e?{}:e;return t||n&&r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return n}})},1025:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},1145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return m},defaultHead:function(){return u}});let r=n(7020),s=n(3147),a=n(8732),i=s._(n(2015)),l=r._(n(8160)),o=n(7043),c=n(1523),d=n(609);function u(e){void 0===e&&(e=!1);let t=[(0,a.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,a.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function f(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===i.default.Fragment?e.concat(i.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}n(1025);let p=["name","httpEquiv","charSet","itemProp"];function h(e,t){let{inAmpMode:n}=t;return e.reduce(f,[]).reverse().concat(u(n).reverse()).filter(function(){let e=new Set,t=new Set,n=new Set,r={};return s=>{let a=!0,i=!1;if(s.key&&"number"!=typeof s.key&&s.key.indexOf("$")>0){i=!0;let t=s.key.slice(s.key.indexOf("$")+1);e.has(t)?a=!1:e.add(t)}switch(s.type){case"title":case"base":t.has(s.type)?a=!1:t.add(s.type);break;case"meta":for(let e=0,t=p.length;e<t;e++){let t=p[e];if(s.props.hasOwnProperty(t))if("charSet"===t)n.has(t)?a=!1:n.add(t);else{let e=s.props[t],n=r[t]||new Set;("name"!==t||!i)&&n.has(e)?a=!1:(n.add(e),r[t]=n)}}}return a}}()).reverse().map((e,t)=>{let r=e.key||t;if(process.env.__NEXT_OPTIMIZE_FONTS&&!n&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,i.default.cloneElement(e,t)}return i.default.cloneElement(e,{key:r})})}let m=function(e){let{children:t}=e,n=(0,i.useContext)(o.AmpStateContext),r=(0,i.useContext)(c.HeadManagerContext);return(0,a.jsx)(l.default,{reduceComponentsToState:h,headManager:r,inAmpMode:(0,d.isInAmpMode)(n),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1413:(e,t)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,n){return n in t?t[n]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,n)):"function"==typeof t&&"default"===n?t:void 0}}})},2768:()=>{},5280:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.r(t),n.d(t,{default:()=>h});var s=n(8732);n(2768);var a=n(2015),i=n(4722),l=n(9918),o=n.n(l),c=n(4233),d=n(7665),u=n(9875),f=e([u]);function p(){let{data:e}=(0,i.useSession)(),t=(0,c.useRouter)(),n=(0,u.A)(),r="/login"===t.pathname,[l,f]=(0,a.useState)(!1),p=e?.user?.image||null,h=e?.user?.name||"";return(0,s.jsxs)("header",{className:"flex items-center justify-between bg-gray-100 p-4 shadow",children:[(0,s.jsx)(o(),{href:"/",children:(0,s.jsx)("img",{src:"/logo_stirweld.png",alt:"Logo Stirweld",className:"h-20 w-auto cursor-pointer"})}),!r&&(0,s.jsxs)("nav",{className:"flex items-center gap-6",children:[(0,s.jsx)(o(),{href:"/stock",className:"text-gray-700 hover:text-gray-900",children:"Stock"}),(0,s.jsx)(o(),{href:"/commandes",className:"text-gray-700 hover:text-gray-900",children:"Commandes"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(o(),{href:"/alertes",className:"text-gray-700 hover:text-gray-900",children:"Alertes"}),n>0&&(0,s.jsx)("span",{className:"   absolute -top-3 -right-3   h-5 min-w-[20px] px-1   bg-red-600 text-white text-xs font-semibold   rounded-full flex items-center justify-center   ",children:n})]}),(0,s.jsx)(o(),{href:"/history",className:"text-gray-700 hover:text-gray-900",children:"Historique"}),(0,s.jsx)(o(),{href:"/projects",className:"text-gray-700 hover:text-gray-900",children:"Produits"}),(0,s.jsx)(o(),{href:"/projects-asana",className:"text-gray-700 hover:text-gray-900",children:"Asana"}),e?.user?(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1 relative",children:[p?(0,s.jsx)("img",{src:p,alt:h,onClick:()=>f(!0),className:"h-10 w-10 rounded-full object-cover cursor-pointer border-2 border-gray-300"}):(0,s.jsx)(d.A,{className:"h-10 w-10 text-gray-400 cursor-pointer",onClick:()=>f(!0)}),(0,s.jsx)("span",{className:"text-gray-800 font-medium text-sm",children:h})]}):(0,s.jsx)(o(),{href:"/login",className:"text-blue-600 hover:underline",children:"Connexion"})]}),l&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded shadow-lg max-w-xs text-center",children:[(0,s.jsx)("p",{className:"mb-4",children:"Voulez-vous vraiment vous d\xe9connecter ?"}),(0,s.jsxs)("div",{className:"flex justify-around",children:[(0,s.jsx)("button",{onClick:()=>{f(!1),(0,i.signOut)({callbackUrl:`${window.location.origin}/login`})},className:"px-4 py-1 bg-red-600 text-white rounded",children:"Oui"}),(0,s.jsx)("button",{onClick:()=>f(!1),className:"px-4 py-1 bg-gray-300 rounded",children:"Non"})]})]})})]})}function h({Component:e,pageProps:{session:t,...n}}){return(0,s.jsxs)(i.SessionProvider,{session:t,children:[(0,s.jsx)(p,{}),(0,s.jsx)("main",{className:"p-4",children:(0,s.jsx)(e,{...n})})]})}u=(f.then?(await f)():f)[0],r()}catch(e){r(e)}})},7043:(e,t,n)=>{"use strict";e.exports=n(3885).vendored.contexts.AmpContext},8160:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=n(2015),s=()=>{},a=()=>{};function i(e){var t;let{headManager:n,reduceComponentsToState:i}=e;function l(){if(n&&n.mountedInstances){let t=r.Children.toArray(Array.from(n.mountedInstances).filter(Boolean));n.updateHead(i(t,e))}}return null==n||null==(t=n.mountedInstances)||t.add(e.children),l(),s(()=>{var t;return null==n||null==(t=n.mountedInstances)||t.add(e.children),()=>{var t;null==n||null==(t=n.mountedInstances)||t.delete(e.children)}}),s(()=>(n&&(n._pendingUpdate=l),()=>{n&&(n._pendingUpdate=l)})),a(()=>(n&&n._pendingUpdate&&(n._pendingUpdate(),n._pendingUpdate=null),()=>{n&&n._pendingUpdate&&(n._pendingUpdate(),n._pendingUpdate=null)})),null}},9875:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{A:()=>i});var s=n(4078),a=e([s]);s=(a.then?(await a)():a)[0];let l=e=>fetch(e).then(e=>e.json());function i(){let{data:e,error:t}=(0,s.default)("/api/stock",l);return t||!Array.isArray(e)?0:e.filter(e=>Number(e["Qte stock"]||0)+Number(e["En Commande"]||0)<Number(e["Qte mini"]||0)).length}r()}catch(e){r(e)}})}};